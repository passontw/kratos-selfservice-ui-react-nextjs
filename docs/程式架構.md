# 程式架構

基於 Next  的程式架構

```
|-- /node_modules
|-- /pages
    |-- /api
        |-- hello.js
    |-- _app.js
    |-- index.js
|-- /public
    |-- favicon.ico
    |-- vercel.svg
|-- /styles
    |-- globals.css
    |-- Home.module.css
|-- .eslintrc
|-- .gitignore
|-- next.config.js
|-- package-lock.json
|-- package.json
|-- README.md
```

* `pages`

  Next.js 幫開發者做掉了不少功能，其中之一就是各個頁面(page)與路由(router path)的設定，開發者不需要額外使用 3rd router library，只要在pages 資料夾內有對應的檔案，Next.js 就會自動替其處理對應 router。

  * `api`
    Next.js 可以用來做 API mid server ，其 pages-router 的設定也支援 API 路徑，這裡是官方預設提供的範例，之後啟動專案時，只要進 http://localhost:3000/api/hello 即可以看到對應目前api 資料夾下 hello.js 的 json 檔。

  * `_app.js`
    pages 進入點。我們可以在這裡做一些全站各頁共用邏輯或初始化行為，例如：加入全域樣式、加入全站全頁<head> 內共用的元素、統一錯誤邊界的處理..等
  * `index.js`
    預設頁面的 React 元件，在 Next.js 的 pages-router 路由設定下，pages 根目錄的 index 檔案會對應首頁，也就是使用者打開 http://localhost:3000 看見的頁面。
* `public`
  即對外、靜態資源存放的位置，包含專案中會用到的圖片資源、favicon.ico 或是如 sitemap.xml 與 robots.txt 皆置於此。
* `style`
  預設的樣式檔案資料夾，目前包含了 globals.css 和 Home.module.css
* `.eslintrc`
  由 Next.js 自動產生的 eslint 設定，後續有 eslint 設定可於此修改
* `.gitignore`
  由 Next.js 自動產生的 git 追蹤(忽略)清單，後續有不想進 git 的檔案可於此修改
* `next.config.js`
  next.config.js 主要處理 Next.js server 和我們 build code 建構檔案時有關的設定。畢竟 Next 已經幫開發者處理掉很多設定，若還有更改的需求，可以先在這對照官方文件，查看與調整專案設定，例如：檔案壓縮、自訂 Webpack 設定、檔案路徑調整、開發環境特定附檔名的支援